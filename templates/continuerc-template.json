{
  "name": "TU PROYECTO - Metodolog√≠a INTEGRA",
  "description": "Configuraci√≥n de Continue.dev optimizada para desarrollo con agentes IA usando metodolog√≠a INTEGRA",
  "version": "1.0.0",
  
  "context": {
    "autoContext": {
      "enabled": true,
      "files": [
        "PROYECTO.md",
        "metodologia-integra/ONBOARDING.md",
        "metodologia-integra/meta/plantilla-checkpoint-enriquecido.md",
        "metodologia-integra/meta/sistema-priorizacion.md",
        "context/dossier_tecnico.md",
        "AGENTS.md"
      ],
      "maxTokens": 8000
    },
    "customContext": [
      {
        "name": "Metodolog√≠a INTEGRA",
        "path": "metodologia-integra/**/*.md",
        "description": "Sistema de documentaci√≥n y flujos de trabajo"
      },
      {
        "name": "Context Project",
        "path": "context/**/*.md",
        "description": "Documentaci√≥n t√©cnica y especificaciones"
      },
      {
        "name": "Checkpoints",
        "path": "Checkpoints/**/*.md",
        "description": "Historial de progreso del proyecto"
      },
      {
        "name": "ADRs",
        "path": "metodologia-integra/context/decisions/**/*.md",
        "description": "Decisiones arquitect√≥nicas documentadas"
      }
    ]
  },

  "rules": [
    {
      "name": "Siempre leer PROYECTO.md primero",
      "pattern": "**/*",
      "message": "Antes de realizar cualquier tarea, lee PROYECTO.md para contexto actualizado"
    },
    {
      "name": "Actualizar PROYECTO.md al completar tareas",
      "pattern": "**/*",
      "message": "Marca tareas completadas y actualiza estado en PROYECTO.md"
    },
    {
      "name": "Crear checkpoint despu√©s de cambios significativos",
      "pattern": "**/*.{ts,tsx,js,jsx}",
      "message": "Usa la plantilla en metodologia-integra/meta/plantilla-checkpoint-enriquecido.md"
    },
    {
      "name": "Documentar decisiones t√©cnicas importantes",
      "pattern": "**/*",
      "message": "Crea ADR en metodologia-integra/context/decisions/ para decisiones arquitect√≥nicas"
    },
    {
      "name": "Seguir convenciones del monorepo",
      "pattern": "apps/**/*",
      "message": "Ver AGENTS.md para comandos de turbo, pnpm y testing"
    },
    {
      "name": "Priorizaci√≥n de tareas",
      "pattern": "**/*",
      "message": "Consulta metodologia-integra/meta/sistema-priorizacion.md para decidir qu√© trabajar"
    }
  ],

  "agents": {
    "IMPLEMENTACION": {
      "role": "Arquitecta de Soluciones y Planificaci√≥n",
      "capabilities": [
        "An√°lisis de requisitos",
        "Dise√±o de arquitectura",
        "Planificaci√≥n de sprints",
        "Creaci√≥n de ADRs",
        "Definici√≥n de especificaciones t√©cnicas"
      ],
      "context": [
        "PROYECTO.md",
        "context/**/*.md",
        "metodologia-integra/**/*.md"
      ],
      "prompts": [
        "meta/prompts/sofia_kickoff.txt"
      ],
      "workflow": [
        "1. Leer PROYECTO.md y documentaci√≥n de context/",
        "2. Analizar requisitos y crear/actualizar specs",
        "3. Dividir en tareas con priorizaci√≥n",
        "4. Documentar decisiones arquitect√≥nicas (ADRs)",
        "5. Handoff a CODEX o GEMINI con instrucciones claras"
      ],
      "outputFormats": [
        "Specs t√©cnicas en context/SPEC-*.md",
        "ADRs en metodologia-integra/context/decisions/",
        "Tareas priorizadas en PROYECTO.md",
        "Documentos de dise√±o en propuestas/"
      ]
    },
    
    "CODEX": {
      "role": "Implementador Backend y L√≥gica de Negocio",
      "capabilities": [
        "Desarrollo de APIs",
        "Integraci√≥n con Firebase (Firestore, Auth, Functions)",
        "L√≥gica de negocio",
        "Testing backend",
        "Optimizaci√≥n de queries"
      ],
      "context": [
        "PROYECTO.md",
        "apps/web/src/app/api/**/*",
        "apps/web/src/lib/**/*",
        "context/dossier_tecnico.md",
        "AGENTS.md"
      ],
      "prompts": [
        "meta/prompts/aria_kickoff.txt"
      ],
      "workflow": [
        "1. Recibir handoff del arquitecto (leer tarea en PROYECTO.md)",
        "2. Implementar endpoints API y l√≥gica",
        "3. Escribir tests unitarios e integraci√≥n",
        "4. Ejecutar pnpm lint y pnpm test",
        "5. Crear checkpoint con resultados",
        "6. Handoff a GEMINI si requiere UI"
      ],
      "testCommands": [
        "pnpm turbo run test --filter @farianergy/web",
        "pnpm turbo run lint --filter @farianergy/web"
      ],
      "outputFormats": [
        "API routes en apps/web/src/app/api/",
        "Business logic en apps/web/src/lib/",
        "Tests en *.test.ts",
        "Checkpoint en Checkpoints/CHK_*.md"
      ]
    },
    
    "GEMINI": {
      "role": "Implementador Frontend y UX",
      "capabilities": [
        "Desarrollo de componentes React",
        "Integraci√≥n de UI con APIs",
        "Styling con Tailwind CSS",
        "Testing frontend",
        "Optimizaci√≥n de performance"
      ],
      "context": [
        "PROYECTO.md",
        "apps/web/src/app/**/*.tsx",
        "apps/web/src/components/**/*",
        "context/dossier_tecnico.md",
        "AGENTS.md"
      ],
      "prompts": [
        "meta/prompts/ines_kickoff.txt"
      ],
      "workflow": [
        "1. Recibir handoff (leer tarea en PROYECTO.md)",
        "2. Implementar componentes y p√°ginas",
        "3. Integrar con APIs de backend",
        "4. Testear visualmente y con tests",
        "5. Crear checkpoint",
        "6. Handoff de vuelta o marcar completo"
      ],
      "testCommands": [
        "pnpm run dev --filter @farianergy/web",
        "pnpm turbo run test --filter @farianergy/web"
      ],
      "outputFormats": [
        "P√°ginas en apps/web/src/app/",
        "Componentes en apps/web/src/components/",
        "Tests en *.test.tsx",
        "Checkpoint en Checkpoints/CHK_*.md"
      ]
    }
  },

  "snippets": {
    "new-task": {
      "description": "Crear nueva tarea en PROYECTO.md",
      "body": [
        "### [${1:ID}] ${2:Nombre de la Tarea}",
        "",
        "**Metadatos:**",
        "- üéØ **Prioridad:** ${3|üî¥ Alta,üü° Media,üü¢ Baja|}",
        "- ‚è±Ô∏è **Estimaci√≥n:** ${4:X}h ${5:Y}m",
        "- üë§ **Asignado:** ${6|IMPLEMENTACION,CODEX,GEMINI,Sin asignar|}",
        "- üì¶ **Sprint:** ${7:Sprint X}",
        "- üè∑Ô∏è **Tags:** ${8:#tag}",
        "- üîó **Dependencias:** ${9:Ninguna}",
        "- üöß **Bloqueadores:** ${10:Ninguno}",
        "- üìÖ **Deadline:** ${11:YYYY-MM-DD}",
        "",
        "**Descripci√≥n:**",
        "${12:Descripci√≥n detallada}",
        "",
        "**Criterios de Aceptaci√≥n:**",
        "- [ ] ${13:Criterio 1}",
        ""
      ]
    },

    "checkpoint": {
      "description": "Crear checkpoint enriquecido",
      "body": [
        "# Checkpoint - ${1:T√≠tulo}",
        "",
        "## üìã Metadata",
        "",
        "| Campo | Valor |",
        "|-------|-------|",
        "| **Fecha** | ${CURRENT_YEAR}-${CURRENT_MONTH}-${CURRENT_DATE} ${CURRENT_HOUR}:${CURRENT_MINUTE} |",
        "| **Agente** | ${2|IMPLEMENTACION,CODEX,GEMINI|} |",
        "| **Tiempo Invertido** | ${3:X}h ${4:Y}m |",
        "| **Estado** | ${5|‚úÖ Completado,üöß En Progreso,‚ö†Ô∏è Bloqueado|} |",
        "",
        "## üéØ Objetivo",
        "${6:Descripci√≥n del objetivo}",
        "",
        "## üìù Cambios Realizados",
        "### Archivos Modificados",
        "- `${7:path/to/file}`: ${8:descripci√≥n}",
        "",
        "## üß™ Tests",
        "```bash",
        "${9:comando de test}",
        "```",
        "",
        "## üöÄ Pr√≥ximos Pasos",
        "- [ ] ${10:siguiente tarea}",
        ""
      ]
    },

    "adr": {
      "description": "Crear ADR",
      "body": [
        "# ADR-${1:XXX}: ${2:T√≠tulo}",
        "",
        "**Estado:** ${3|Propuesta,Aceptada,Rechazada|}",
        "**Fecha:** ${CURRENT_YEAR}-${CURRENT_MONTH}-${CURRENT_DATE}",
        "**Autores:** ${4:Nombre}",
        "",
        "## Contexto",
        "${5:Descripci√≥n del problema}",
        "",
        "## Decisi√≥n",
        "${6:Qu√© se decidi√≥}",
        "",
        "## Alternativas Consideradas",
        "### Alternativa 1: ${7:Nombre}",
        "${8:Descripci√≥n}",
        "",
        "## Consecuencias",
        "### Positivas",
        "- ‚úÖ ${9:Beneficio}",
        "",
        "### Negativas",
        "- ‚ùå ${10:Trade-off}",
        ""
      ]
    },

    "handoff": {
      "description": "Template de handoff entre agentes",
      "body": [
        "## ü§ù Handoff: ${1|IMPLEMENTACION,CODEX,GEMINI|} ‚Üí ${2|IMPLEMENTACION,CODEX,GEMINI|}",
        "",
        "**Fecha:** ${CURRENT_YEAR}-${CURRENT_MONTH}-${CURRENT_DATE}",
        "**Tarea:** [${3:ID}] ${4:Nombre}",
        "",
        "### Contexto",
        "${5:Qu√© se hizo hasta ahora}",
        "",
        "### Pr√≥ximos Pasos para ${2}",
        "1. ${6:Paso 1}",
        "2. ${7:Paso 2}",
        "",
        "### Archivos Relevantes",
        "- `${8:path/to/file}`",
        "",
        "### Notas Importantes",
        "${9:Cualquier cosa cr√≠tica que deba saber}",
        ""
      ]
    },

    "api-route": {
      "description": "Template de API route Next.js con Firebase",
      "body": [
        "import { NextRequest, NextResponse } from 'next/server';",
        "import { db } from '@/lib/firebase';",
        "import { collection, getDocs, addDoc } from 'firebase/firestore';",
        "",
        "// GET - Obtener ${1:recursos}",
        "export async function GET(request: NextRequest) {",
        "  try {",
        "    const ${2:collectionName}Ref = collection(db, '${2}');",
        "    const snapshot = await getDocs(${2}Ref);",
        "    const ${3:items} = snapshot.docs.map(doc => ({",
        "      id: doc.id,",
        "      ...doc.data()",
        "    }));",
        "    ",
        "    return NextResponse.json(${3});",
        "  } catch (error) {",
        "    console.error('Error fetching ${1}:', error);",
        "    return NextResponse.json(",
        "      { error: 'Failed to fetch ${1}' },",
        "      { status: 500 }",
        "    );",
        "  }",
        "}",
        "",
        "// POST - Crear nuevo ${4:recurso}",
        "export async function POST(request: NextRequest) {",
        "  try {",
        "    const data = await request.json();",
        "    const ${2}Ref = collection(db, '${2}');",
        "    const docRef = await addDoc(${2}Ref, {",
        "      ...data,",
        "      createdAt: new Date().toISOString()",
        "    });",
        "    ",
        "    return NextResponse.json(",
        "      { id: docRef.id, ...data },",
        "      { status: 201 }",
        "    );",
        "  } catch (error) {",
        "    console.error('Error creating ${4}:', error);",
        "    return NextResponse.json(",
        "      { error: 'Failed to create ${4}' },",
        "      { status: 500 }",
        "    );",
        "  }",
        "}",
        ""
      ]
    },

    "react-page": {
      "description": "Template de p√°gina Next.js App Router",
      "body": [
        "'use client';",
        "",
        "import { useEffect, useState } from 'react';",
        "",
        "export default function ${1:PageName}Page() {",
        "  const [${2:data}, set${2/(.*)/${1:/capitalize}/}] = useState<${3:Type}[]>([]);",
        "  const [loading, setLoading] = useState(true);",
        "",
        "  useEffect(() => {",
        "    async function fetch${2/(.*)/${1:/capitalize}/}() {",
        "      try {",
        "        const response = await fetch('/api/${4:endpoint}');",
        "        const data = await response.json();",
        "        set${2/(.*)/${1:/capitalize}/}(data);",
        "      } catch (error) {",
        "        console.error('Error fetching ${2}:', error);",
        "      } finally {",
        "        setLoading(false);",
        "      }",
        "    }",
        "    fetch${2/(.*)/${1:/capitalize}/}();",
        "  }, []);",
        "",
        "  if (loading) return <div>Loading...</div>;",
        "",
        "  return (",
        "    <div className=\"container mx-auto p-6\">",
        "      <h1 className=\"text-3xl font-bold mb-6\">${5:T√≠tulo}</h1>",
        "      {${2}.map((item) => (",
        "        <div key={item.id}>",
        "          {/* Render item */}",
        "        </div>",
        "      ))}",
        "    </div>",
        "  );",
        "}",
        ""
      ]
    }
  },

  "customCommands": [
    {
      "name": "status-proyecto",
      "description": "Muestra estado del proyecto desde PROYECTO.md",
      "command": "cat PROYECTO.md | grep -E '(##|###|Estado:|Prioridad:)'"
    },
    {
      "name": "crear-checkpoint",
      "description": "Crea checkpoint con fecha actual",
      "command": "cp metodologia-integra/meta/plantilla-checkpoint-enriquecido.md Checkpoints/CHK_$(date +%Y-%m-%d_%H%M).md"
    },
    {
      "name": "listar-tareas",
      "description": "Lista todas las tareas pendientes",
      "command": "grep -n '###.*\\[ \\]' PROYECTO.md"
    },
    {
      "name": "test-full",
      "description": "Ejecuta todos los tests del monorepo",
      "command": "pnpm turbo run test lint build"
    }
  ],

  "documentation": {
    "readOrder": [
      "1. metodologia-integra/ONBOARDING.md (10 min)",
      "2. PROYECTO.md (5 min)",
      "3. context/dossier_tecnico.md (15 min)",
      "4. AGENTS.md (5 min)",
      "5. metodologia-integra/meta/sistema-priorizacion.md (10 min)"
    ],
    "updateFrequency": {
      "PROYECTO.md": "Cada cambio significativo",
      "Checkpoints/*.md": "Al finalizar cada sesi√≥n",
      "ADRs": "Cuando hay decisi√≥n arquitect√≥nica",
      "Specs": "Cuando cambian requisitos"
    }
  },

  "qualityGates": {
    "beforeCommit": [
      "pnpm lint",
      "pnpm test",
      "Actualizar PROYECTO.md",
      "Crear checkpoint si >2h de trabajo"
    ],
    "beforeHandoff": [
      "Documentar cambios en PROYECTO.md",
      "Crear checkpoint",
      "Listar archivos modificados",
      "Especificar pr√≥ximos pasos claros"
    ]
  },

  "shortcuts": {
    "cmd+shift+p": "Crear nueva tarea en PROYECTO.md",
    "cmd+shift+c": "Crear checkpoint",
    "cmd+shift+a": "Crear ADR",
    "cmd+shift+h": "Documentar handoff"
  },

  "integrations": {
    "firebase": {
      "emulators": {
        "host": "localhost",
        "ports": {
          "firestore": 8080,
          "auth": 9099,
          "storage": 9199
        }
      }
    },
    "github": {
      "conventionalCommits": true,
      "commitFormat": "type(scope): description"
    }
  },

  "meta": {
    "version": "1.0.0",
    "lastUpdated": "2025-11-08",
    "maintainers": ["IMPLEMENTACION", "CODEX", "GEMINI"],
    "changelog": [
      "1.0.0 - Initial configuration for INTEGRA methodology"
    ]
  }
}
